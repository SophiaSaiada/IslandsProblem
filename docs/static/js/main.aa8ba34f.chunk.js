(this["webpackJsonpislands-problem"]=this["webpackJsonpislands-problem"]||[]).push([[0],{64:function(e,t,n){e.exports=n(78)},69:function(e,t,n){},70:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(10),c=n.n(i),o=(n(69),n(6)),l=(n(70),n(103)),s=n(116),u=n(106),d=n(115),f=n(109),h=Object(l.a)((function(e){return{dimensionsConatiner:{display:"inline-flex",flexDirection:"row",alignItems:"center"},crossSign:{fontSize:"1.5em",margin:"0 .5em"}}})),m=function(e){var t=e.setBoardDim,n=h(),i=Object(a.useState)(8),c=Object(o.a)(i,2),l=c[0],m=c[1],p=Object(a.useState)(8),b=Object(o.a)(p,2),g=b[0],v=b[1];return r.a.createElement("form",null,r.a.createElement(s.a,{mb:2},r.a.createElement(u.a,null,"Please enter bitmap size:")),r.a.createElement("div",{className:n.dimensionsConatiner},r.a.createElement(d.a,{label:"Width",variant:"filled",type:"number",defaultValue:8,inputProps:{min:0},onChange:function(e){return m(parseInt(e.target.value))}}),r.a.createElement("div",{className:n.crossSign},"\xd7"),r.a.createElement(d.a,{label:"Height",variant:"filled",type:"number",defaultValue:8,inputProps:{min:0},onChange:function(e){return v(parseInt(e.target.value))}})),r.a.createElement(s.a,{m:3},r.a.createElement(f.a,{variant:"contained",color:"primary",onClick:function(e){t({width:l,height:g})}},"Choose")))},p=n(11),b=n(17),g=n.n(b),v=n(110),x=n(25),w=n(2),j=n(53),O=n(108),E=n(41),k=Object(l.a)((function(e){return{gridContainer:{display:"flex",justifyContent:"center"},islandPaperContainer:{display:"flex",alignItems:"center",justifyContent:"center"},islandPaper:{display:"inline-block",fontFamily:"Jetbrains Mono",height:"32px",width:"32px",lineHeight:"32px",textAlign:"center",fontSize:"16px",background:"red"}}})),y=function(e){return Object(a.forwardRef)((function(t,n){var a=t.style,i=Object(w.a)(t,["style"]);return r.a.createElement("div",Object.assign({ref:n,style:Object(x.a)({},a,{paddingLeft:8,paddingTop:8,height:"".concat(parseFloat(a.height)+e,"px")})},i))}))},C=function(e){var t=e.boardDim,n=e.data,a=e.toggleCell,i=e.width,c=e.height,o=e.paddingBottom,l=k();return r.a.createElement("div",{className:l.gridContainer},r.a.createElement(E.a,{columnCount:t.width,rowCount:t.height,columnWidth:48,rowHeight:48,height:c,width:i,innerElementType:y(o)},(function(e){var t=e.columnIndex,i=e.rowIndex,c=e.style,o=n[i][t];return r.a.createElement(j.a,{focusRipple:!0,className:l.islandPaperContainer,key:"".concat(t,",").concat(i),onClick:function(e){return a(i,t)},style:Object(x.a)({},c,{left:c.left+8,top:c.top+8,width:c.width-8,height:c.height-8})},r.a.createElement(O.a,{className:l.islandPaper,style:{backgroundColor:0===o?"#b3e5fc":"#9a472d",color:0===o?"#000":"#fff",transition:"background-color .2s ease"},elevation:2},o))})))},S=n(111),M=n(112),B=n(113);function F(){var e="object"===typeof window;function t(){return{width:e?window.innerWidth:0,height:e?window.innerHeight:0}}var n=Object(a.useState)(t),r=Object(o.a)(n,2),i=r[0],c=r[1];return Object(a.useEffect)((function(){if(e)return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)};function n(){c(t())}}),[]),i}var I=Object(l.a)((function(e){return{controllersConatiner:{position:"fixed",bottom:0,left:0,width:"100%",backdropFilter:"blur(7px)",backgroundColor:"rgba(255, 255, 255, .5)",padding:"10px 0"}}})),N=function(e){var t=e.boardDim,n=e.setBoardData,i=e.goHome,c=e.fullScreenMode,l=e.setFullScreenMode,u=I(),d=Object(a.useState)(g.a.range(t.height).map((function(e){return g.a.range(t.width).map((function(e){return 0}))}))),h=Object(o.a)(d,2),m=h[0],b=h[1],x=F();return r.a.createElement("div",null,r.a.createElement(s.a,{mb:2},r.a.createElement(C,{boardDim:t,data:m,toggleCell:function(e,t){b([].concat(Object(p.a)(m.slice(0,e)),[[].concat(Object(p.a)(m[e].slice(0,t)),[1===m[e][t]?0:1],Object(p.a)(m[e].slice(t+1)))],Object(p.a)(m.slice(e+1))))},width:c?x.width:Math.min(48*t.width+20,400),height:c?x.height:Math.min(48*t.height+20,400),paddingBottom:c?80:0})),r.a.createElement(s.a,{mt:2,className:c?u.controllersConatiner:""},r.a.createElement(s.a,{component:"span"},r.a.createElement(v.a,{color:c?"inherit":"primary",onClick:i},r.a.createElement(S.a,null))),(t.width>8||t.height>8)&&r.a.createElement(s.a,{component:"span"},r.a.createElement(v.a,{color:c?"inherit":"primary",onClick:function(e){return l(!c)}},c?r.a.createElement(M.a,null):r.a.createElement(B.a,null))),r.a.createElement(s.a,{component:"span",ml:2},r.a.createElement(f.a,{variant:"contained",onClick:function(e){b(g.a.range(t.height).map((function(e){return g.a.range(t.width).map((function(e){return Math.floor(3*Math.random())>=1?0:1}))})))}},"Randomize")),r.a.createElement(s.a,{component:"span",ml:2},r.a.createElement(f.a,{variant:"contained",color:"primary",onClick:function(e){n(m)}},"Set"))))},P=n(18),z=n.n(P),D=n(28),A=n(40),H=n(23),T=function(){function e(t,n){Object(A.a)(this,e),this.dimensions=void 0,this.data=void 0,this.dimensions=t,this.data=n}return Object(H.a)(e,[{key:"toString",value:function(){return this.data.map((function(e){return e.join(" ")})).join("\n")}},{key:"toArrayString",value:function(){return this.data.map((function(e){return"["+e.join(",")+"]"})).join(",")}},{key:"clone",value:function(){return new e(Object(x.a)({},this.dimensions),this.data.map((function(e){return Object(p.a)(e)})))}},{key:"isInBounds",value:function(e,t){return 0<=t&&t<this.dimensions.width&&0<=e&&e<this.dimensions.height}},{key:"getCell",value:function(e,t){if(!this.isInBounds(e,t))throw new Error("Invalid index (".concat(t,", ").concat(e,") in board with ")+"dimensions ".concat(JSON.stringify(this.dimensions)));return this.data[e][t]}},{key:"setCell",value:function(e,t,n){if(!this.isInBounds(e,t))throw new Error("Invalid index (".concat(t,", ").concat(e,") in board with ")+"dimensions ".concat(JSON.stringify(this.dimensions)));this.data[e][t]=n}},{key:"forEachCell",value:function(e){for(var t=0;t<this.dimensions.height;t++)for(var n=0;n<this.dimensions.width;n++)e(t,n,this.getCell(t,n))}},{key:"asyncForEachCell",value:function(){var e=Object(D.a)(z.a.mark((function e(t){var n,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<this.dimensions.height)){e.next=12;break}a=0;case 3:if(!(a<this.dimensions.width)){e.next=9;break}return e.next=6,t(n,a,this.data[n][a]);case 6:a++,e.next=3;break;case 9:n++,e.next=1;break;case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),J=function(e){var t=e.setBoard,n=e.fullScreenMode,i=e.setFullScreenMode,c=Object(a.useState)(null),l=Object(o.a)(c,2),s=l[0],u=l[1];return r.a.createElement("div",{className:"App"},null==s&&r.a.createElement(m,{setBoardDim:u}),null!=s&&r.a.createElement(N,{boardDim:s,setBoardData:function(e){if(null!=s){var n=new T(s,e);t(n)}},goHome:function(){u(null),i(!1)},fullScreenMode:n,setFullScreenMode:i}))},W=n(34);function R(){return(R=Object(D.a)(z.a.mark((function e(t,n,a,r){var i,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.clone(),c=2,e.next=4,i.asyncForEachCell(function(){var e=Object(D.a)(z.a.mark((function e(t,l,s){var u,d,f,h,m,b,g,v,x,w,j,O,E,k,y,C,S,M,B,F,I,N,P;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==s){e.next=2;break}return e.abrupt("return");case 2:if(a){e.next=5;break}return e.next=5,r();case 5:if(u=q(i,t,l),1!==s){e.next=47;break}d=u.filter((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return i.getCell(n,a)>1})),f=0===d.length?c++:Math.min.apply(Math,Object(p.a)(d.map((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return i.getCell(n,a)})))),i.setCell(t,l,f),h=!0,m=!1,e.prev=12,g=Object(W.a)(u);case 14:return e.next=16,g.next();case 16:return v=e.sent,h=v.done,e.next=20,v.value;case 20:if(x=e.sent,h){e.next=31;break}if(w=x,j=Object(o.a)(w,2),O=j[0],E=j[1],i.setCell(O,E,f),a){e.next=28;break}return n(i),e.next=28,r();case 28:h=!0,e.next=14;break;case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(12),m=!0,b=e.t0;case 37:if(e.prev=37,e.prev=38,h||null==g.return){e.next=42;break}return e.next=42,g.return();case 42:if(e.prev=42,!m){e.next=45;break}throw b;case 45:return e.finish(42);case 46:return e.finish(37);case 47:if(!(s>1)){e.next=85;break}k=!0,y=!1,e.prev=50,S=Object(W.a)(u);case 52:return e.next=54,S.next();case 54:return M=e.sent,k=M.done,e.next=58,M.value;case 58:if(B=e.sent,k){e.next=69;break}if(F=B,I=Object(o.a)(F,2),N=I[0],P=I[1],i.setCell(N,P,s),a){e.next=66;break}return n(i),e.next=66,r();case 66:k=!0,e.next=52;break;case 69:e.next=75;break;case 71:e.prev=71,e.t1=e.catch(50),y=!0,C=e.t1;case 75:if(e.prev=75,e.prev=76,k||null==S.return){e.next=80;break}return e.next=80,S.return();case 80:if(e.prev=80,!y){e.next=83;break}throw C;case 83:return e.finish(80);case 84:return e.finish(75);case 85:case"end":return e.stop()}}),e,null,[[12,33,37,47],[38,,42,46],[50,71,75,85],[76,,80,84]])})));return function(t,n,a){return e.apply(this,arguments)}}());case 4:return e.next=6,V(i,c-1,a,n,r);case 6:return a&&n(i),e.abrupt("return",Promise.resolve(L(i)));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=function(e){var t=new Set;return e.forEachCell((function(e,n,a){a>1&&t.add(a)})),t.size};function V(e,t,n,a,r){return $.apply(this,arguments)}function $(){return($=Object(D.a)(z.a.mark((function e(t,n,a,r,i){var c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[new Array,new Array].concat(g.a.range(2,n+1).map((function(e){return new Array}))),t.forEachCell((function(e,t,n){n>1&&c[n].push([e,t])})),e.next=4,t.asyncForEachCell(function(){var e=Object(D.a)(z.a.mark((function e(n,l,s){var u,d,f,h,m,p,b,g,v,x,w,j,O,E,k,y,C,S,M;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==s){e.next=2;break}return e.abrupt("return");case 2:u=q(t,n,l),d=u.map((function(e){var n=Object(o.a)(e,2),a=n[0],r=n[1];return t.getCell(a,r)})),f=!0,h=!1,e.prev=6,p=Object(W.a)(d.filter((function(e){return e!==s})));case 8:return e.next=10,p.next();case 10:return b=e.sent,f=b.done,e.next=14,b.value;case 14:if(g=e.sent,f){e.next=58;break}v=g,x=!0,w=!1,e.prev=19,O=Object(W.a)(c[v]);case 21:return e.next=23,O.next();case 23:return E=e.sent,x=E.done,e.next=27,E.value;case 27:if(k=e.sent,x){e.next=39;break}if(y=k,C=Object(o.a)(y,2),S=C[0],M=C[1],c[s].push([S,M]),t.setCell(S,M,s),a){e.next=36;break}return r(t),e.next=36,i();case 36:x=!0,e.next=21;break;case 39:e.next=45;break;case 41:e.prev=41,e.t0=e.catch(19),w=!0,j=e.t0;case 45:if(e.prev=45,e.prev=46,x||null==O.return){e.next=50;break}return e.next=50,O.return();case 50:if(e.prev=50,!w){e.next=53;break}throw j;case 53:return e.finish(50);case 54:return e.finish(45);case 55:f=!0,e.next=8;break;case 58:e.next=64;break;case 60:e.prev=60,e.t1=e.catch(6),h=!0,m=e.t1;case 64:if(e.prev=64,e.prev=65,f||null==p.return){e.next=69;break}return e.next=69,p.return();case 69:if(e.prev=69,!h){e.next=72;break}throw m;case 72:return e.finish(69);case 73:return e.finish(64);case 74:case"end":return e.stop()}}),e,null,[[6,60,64,74],[19,41,45,55],[46,,50,54],[65,,69,73]])})));return function(t,n,a){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=function(e,t,n){return function(e,t,n){return g.a.range(-1,2).flatMap((function(e){return g.a.range(-1,2).map((function(t){return[e,t]}))})).filter((function(e){var t=Object(o.a)(e,2),n=t[0];return 0!==t[1]||0!==n})).map((function(e){var a=Object(o.a)(e,2),r=a[0],i=a[1];return[t+r,n+i]})).filter((function(t){var n=Object(o.a)(t,2),a=n[0],r=n[1];return 0<=r&&r<e.dimensions.width&&0<=a&&a<e.dimensions.height}))}(e,t,n).filter((function(t){var n=Object(o.a)(t,2),a=n[0],r=n[1];return e.getCell(a,r)>0}))},G=function(e,t,n,a){return R.apply(this,arguments)};var K=Object(l.a)((function(e){return{gridContainer:{display:"flex",justifyContent:"center"},islandPaperContainer:{display:"flex",alignItems:"center",justifyContent:"center"},islandPaper:{display:"inline-block",fontFamily:"Jetbrains Mono",height:"32px",width:"32px",lineHeight:"32px",textAlign:"center",fontSize:"16px",background:"red"}}})),Q=function(e){return Object(a.forwardRef)((function(t,n){var a=t.style,i=Object(w.a)(t,["style"]);return r.a.createElement("div",Object.assign({ref:n,style:Object(x.a)({},a,{paddingLeft:8,paddingTop:8,height:"".concat(parseFloat(a.height)+e,"px")})},i))}))},U=function(e){var t=e.board,n=e.width,i=e.height,c=e.paddingBottom,l=K(),s=Object(a.useState)(["#b3e5fc","#9a472d"]),u=Object(o.a)(s,2),d=u[0],f=u[1],h=function(e){var t=new Set(d);return d.concat(g.a.range(d.length,e+1).map((function(e){return function(){for(var e=function(){return g.a.range(0,3).reduce((function(e,t){return e+"0123456789ABCDEF"[Math.floor(8*Math.random())]+"0123456789ABCDEF"[Math.floor(16*Math.random())]}),"#")},n=e();t.has(n);)n=e();return t.add(n),n}()})))};return r.a.createElement("div",{className:l.gridContainer},r.a.createElement(E.a,{columnCount:t.dimensions.width,rowCount:t.dimensions.height,columnWidth:48,rowHeight:48,height:i,width:n,innerElementType:Q(c)},(function(e){var n=e.columnIndex,a=e.rowIndex,i=e.style,c=t.data[a][n];return c>=d.length&&f(h(c)),r.a.createElement("div",{key:"".concat(n,",").concat(a),className:l.islandPaperContainer,style:Object(x.a)({},i,{left:i.left+8,top:i.top+8,width:i.width-8,height:i.height-8,padding:0,margin:0})},r.a.createElement(O.a,{className:l.islandPaper,style:{backgroundColor:d[c],color:0===c?"#000":"#fff",transition:"background-color .2s ease"},elevation:2},c))})))},X=n(118),Y=Object(l.a)((function(e){return{controllersConatiner:{position:"fixed",bottom:0,left:0,width:"100%",backdropFilter:"blur(7px)",backgroundColor:"rgba(255, 255, 255, .5)",padding:"10px 0"}}})),Z=function(e){var t=e.originalBoard,n=e.goHome,i=e.fullScreenMode,c=e.setFullScreenMode,l=Y(),u=Object(a.useState)([t.clone(),0]),d=Object(o.a)(u,2),h=Object(o.a)(d[0],2),m=h[0],p=h[1],b=d[1],g=Object(a.useState)(null),x=Object(o.a)(g,2),w=x[0],j=x[1],O=Object(a.useState)(!1),E=Object(o.a)(O,2),k=E[0],y=E[1],C=Object(a.useState)(!1),I=Object(o.a)(C,2),N=I[0],P=I[1],z=F(),D=Object(a.useRef)(!0);Object(a.useEffect)((function(){return function(){D.current=!1}}),[]);var A=0===w?"There are'nt islands.":1===w?"There is a single island.":"There are ".concat(w," islands.");return r.a.createElement("div",null,r.a.createElement(s.a,{mb:2},r.a.createElement(U,{board:m,width:i?z.width:Math.min(48*t.dimensions.width+20,400),height:i?z.height:Math.min(48*t.dimensions.height+20,400),paddingBottom:i?80:0})),r.a.createElement(s.a,{mt:2,className:i?l.controllersConatiner:""},r.a.createElement(s.a,{component:"span"},r.a.createElement(v.a,{color:i?"inherit":"primary",onClick:n},r.a.createElement(S.a,null))),(t.dimensions.width>8||t.dimensions.height>8)&&r.a.createElement(s.a,{component:"span"},r.a.createElement(v.a,{color:i?"inherit":"primary",onClick:function(e){return c(!i)}},i?r.a.createElement(M.a,null):r.a.createElement(B.a,null))),r.a.createElement(s.a,{component:"span",ml:2},r.a.createElement(f.a,{variant:"contained",color:"primary",onClick:function(){if(!N){P(!0);var e=t.dimensions.height*t.dimensions.width>1e3,n=t.dimensions.height*t.dimensions.width>400?1:t.dimensions.height*t.dimensions.width>200?5:t.dimensions.height*t.dimensions.width>100?10:100;G(t,(function(e){D.current&&b([e,(p+1)%4])}),e,(function(){return e=n,new Promise((function(t){return setTimeout(t,e)}));var e})).then((function(e){D.current&&(j(e),y(!0))}))}},disabled:N},"Solve"))),r.a.createElement(X.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:k,onClose:function(e){return y(!1)},message:A,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{color:"secondary",size:"small",onClick:function(e){return y(!1)}},"Ok"))}))},_=(n(77),n(114)),ee=n(50),te=n(49),ne=n.n(te),ae=Object(ee.a)({palette:{primary:ne.a},typography:{fontFamily:"Jetbrains Mono",fontSize:14},overrides:{MuiButton:{root:{textTransform:"capitalize"}}}}),re=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(!1),l=Object(o.a)(c,2),s=l[0],u=l[1];return r.a.createElement(_.a,{theme:ae},r.a.createElement("div",{className:"App"},null==n&&r.a.createElement(J,{setBoard:i,fullScreenMode:s,setFullScreenMode:u}),null!=n&&r.a.createElement(Z,{originalBoard:n,goHome:function(){i(null),u(!1)},fullScreenMode:s,setFullScreenMode:u})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[64,1,2]]]);
//# sourceMappingURL=main.aa8ba34f.chunk.js.map