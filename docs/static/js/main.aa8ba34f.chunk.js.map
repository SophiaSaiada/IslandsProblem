{"version":3,"sources":["pages/BoardBuild/ChooseDimenssionPage.tsx","pages/BoardBuild/BoardEditor.tsx","utils/windowSizeHook.ts","pages/BoardBuild/SetDataPage.tsx","types/Board.ts","pages/BoardBuild/index.tsx","logic/IslandsProblemSolver.ts","pages/Solver/BoardVisualizer.tsx","pages/Solver/index.tsx","utils/sleep.ts","themes/custom.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["useStyles","makeStyles","_","dimensionsConatiner","display","flexDirection","alignItems","crossSign","fontSize","margin","ChooseDimenssionPage","setBoardDim","classes","useState","width","setWidth","height","setHeight","Box","mb","Typography","className","TextField","label","variant","type","defaultValue","inputProps","min","onChange","e","parseInt","target","value","m","Button","color","onClick","gridContainer","justifyContent","islandPaperContainer","islandPaper","fontFamily","lineHeight","textAlign","background","innerElementType","paddingBottom","forwardRef","props","ref","style","rest","paddingLeft","paddingTop","parseFloat","BoardEditor","boardDim","data","toggleCell","columnCount","rowCount","columnWidth","rowHeight","columnIndex","rowIndex","ButtonBase","focusRipple","key","left","top","Paper","backgroundColor","transition","elevation","useWindowSize","isClient","window","getSize","innerWidth","innerHeight","windowSize","setWindowSize","useEffect","addEventListener","handleResize","removeEventListener","controllersConatiner","position","bottom","backdropFilter","padding","SetDataPage","setBoardData","goHome","fullScreenMode","setFullScreenMode","range","map","__","setData","row","column","slice","Math","mt","component","IconButton","Home","FullscreenExit","Fullscreen","ml","floor","random","Board","dimensions","this","join","isInBounds","Error","JSON","stringify","callback","getCell","BoardBuildPage","setBoard","setDimensions","newData","board","originalBoard","sideEffect","quickRun","sleep","a","clone","nextIslandId","asyncForEachCell","currentValue","nonZeroNeighbors","getNonZeroNeighbors","visitedNonZeroNeighbors","filter","neighborRowIndex","neighborColumnIndex","currentIslandId","length","setCell","mergeIdenticalIslands","Promise","resolve","numOfIslands","islands","Set","forEachCell","add","size","lastIslandId","islandIdToIndices","Array","concat","push","identicalIslands","islandId","flatMap","rowOffset","columnOffset","getNeighborIndices","findNumOfIslands","BoardVisualizer","colors","setColors","generateColors","endIndex","generatedColors","randomColor","reduce","acc","newColor","has","generateNewColor","SolverPage","ongoingBoard","ongoingBoardId","setOgnoingBoardAndId","answer","setAnswer","snackbarOpen","setSnackbarOpen","clickedSolve","setClickedSolve","isMounted","useRef","current","snackbarMessage","sleepLength","ms","setTimeout","then","disabled","Snackbar","anchorOrigin","vertical","horizontal","open","onClose","message","action","Fragment","createMuiTheme","palette","primary","pink","typography","overrides","MuiButton","root","textTransform","App","ThemeProvider","theme","customTheme","BoardBuild","Solver","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.aa8ba34f.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { Dimensions } from \"../../types/Dimensions\";\nimport {\n  TextField,\n  Button,\n  makeStyles,\n  Box,\n  Typography\n} from \"@material-ui/core\";\n\ntype ChooseDimenssionPageProps = {\n  setBoardDim: (dimensions: Dimensions) => void;\n};\n\nconst useStyles = makeStyles(_ => ({\n  dimensionsConatiner: {\n    display: \"inline-flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  },\n  crossSign: {\n    fontSize: \"1.5em\",\n    margin: \"0 .5em\"\n  }\n}));\n\nconst ChooseDimenssionPage = ({ setBoardDim }: ChooseDimenssionPageProps) => {\n  const classes = useStyles();\n\n  const DEFAULT_DIM = 8;\n  const [width, setWidth] = useState(DEFAULT_DIM);\n  const [height, setHeight] = useState(DEFAULT_DIM);\n  const chooseDimenssion = () => {\n    setBoardDim({ width, height });\n  };\n  return (\n    <form>\n      <Box mb={2}>\n        <Typography>Please enter bitmap size:</Typography>\n      </Box>\n      <div className={classes.dimensionsConatiner}>\n        <TextField\n          label=\"Width\"\n          variant=\"filled\"\n          type=\"number\"\n          defaultValue={DEFAULT_DIM}\n          inputProps={{ min: 0 }}\n          onChange={e => setWidth(parseInt(e.target.value))}\n        />\n        <div className={classes.crossSign}>Ã—</div>\n        <TextField\n          label=\"Height\"\n          variant=\"filled\"\n          type=\"number\"\n          defaultValue={DEFAULT_DIM}\n          inputProps={{ min: 0 }}\n          onChange={e => setHeight(parseInt(e.target.value))}\n        />\n      </div>\n      <Box m={3}>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={_ => chooseDimenssion()}\n        >\n          Choose\n        </Button>\n      </Box>\n    </form>\n  );\n};\n\nexport default ChooseDimenssionPage;\n","import React, { forwardRef } from \"react\";\nimport { makeStyles, ButtonBase, Paper } from \"@material-ui/core\";\nimport { FixedSizeGrid as Grid } from \"react-window\";\nimport { Dimensions } from \"../../types/Dimensions\";\n\ntype BoardEditorProps = {\n  boardDim: Dimensions;\n  data: number[][];\n  toggleCell: (rowIndex: number, clomunIndex: number) => void;\n  width: number;\n  height: number;\n  paddingBottom: number;\n};\n\nexport const useStyles = makeStyles(_ => ({\n  gridContainer: {\n    display: \"flex\",\n    justifyContent: \"center\"\n  },\n  islandPaperContainer: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  islandPaper: {\n    display: \"inline-block\",\n    fontFamily: \"Jetbrains Mono\",\n    height: \"32px\",\n    width: \"32px\",\n    lineHeight: \"32px\",\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    background: \"red\"\n  }\n}));\n\ntype CellProps = {\n  columnIndex: number;\n  rowIndex: number;\n  style: any;\n};\n\nexport const BOARD_GUTTER_SIZE = 8;\n\nconst innerElementType = (paddingBottom: number) =>\n  forwardRef((props: any, ref: any) => {\n    const { style, ...rest } = props;\n\n    return (\n      <div\n        ref={ref}\n        style={{\n          ...style,\n          paddingLeft: BOARD_GUTTER_SIZE,\n          paddingTop: BOARD_GUTTER_SIZE,\n          height: `${parseFloat(style.height) + paddingBottom}px`\n        }}\n        {...rest}\n      />\n    );\n  });\n\nconst BoardEditor = ({\n  boardDim,\n  data,\n  toggleCell,\n  width,\n  height,\n  paddingBottom\n}: BoardEditorProps) => {\n  const classes = useStyles();\n\n  const Cell = ({ columnIndex, rowIndex, style }: CellProps) => {\n    const value = data[rowIndex][columnIndex];\n    return (\n      <ButtonBase\n        focusRipple\n        className={classes.islandPaperContainer}\n        key={`${columnIndex},${rowIndex}`}\n        onClick={_ => toggleCell(rowIndex, columnIndex)}\n        style={{\n          ...style,\n          left: style.left + BOARD_GUTTER_SIZE,\n          top: style.top + BOARD_GUTTER_SIZE,\n          width: style.width - BOARD_GUTTER_SIZE,\n          height: style.height - BOARD_GUTTER_SIZE\n        }}\n      >\n        <Paper\n          className={classes.islandPaper}\n          style={{\n            backgroundColor: value === 0 ? \"#b3e5fc\" : \"#9a472d\",\n            color: value === 0 ? \"#000\" : \"#fff\",\n            transition: \"background-color .2s ease\"\n          }}\n          elevation={2}\n        >\n          {value}\n        </Paper>\n      </ButtonBase>\n    );\n  };\n\n  return (\n    <div className={classes.gridContainer}>\n      <Grid\n        columnCount={boardDim.width}\n        rowCount={boardDim.height}\n        columnWidth={32 + BOARD_GUTTER_SIZE * 2}\n        rowHeight={32 + BOARD_GUTTER_SIZE * 2}\n        height={height}\n        width={width}\n        innerElementType={innerElementType(paddingBottom)}\n      >\n        {Cell}\n      </Grid>\n    </div>\n  );\n};\n\nexport default BoardEditor;\n","import { useState, useEffect } from \"react\";\n\ntype WindowSize = {\n  width: number;\n  height: number;\n};\n\nexport default function useWindowSize(): WindowSize {\n  const isClient = typeof window === \"object\";\n\n  function getSize(): WindowSize {\n    return {\n      width: isClient ? window.innerWidth : 0,\n      height: isClient ? window.innerHeight : 0\n    };\n  }\n\n  const [windowSize, setWindowSize] = useState(getSize);\n\n  useEffect(() => {\n    if (!isClient) {\n      return;\n    }\n\n    function handleResize() {\n      setWindowSize(getSize());\n    }\n\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return windowSize;\n}\n","import React, { useState } from \"react\";\nimport { Dimensions } from \"../../types/Dimensions\";\nimport _ from \"lodash\";\nimport { Button, Box, IconButton, makeStyles } from \"@material-ui/core\";\nimport BoardEditor, { BOARD_GUTTER_SIZE } from \"./BoardEditor\";\nimport { Fullscreen, FullscreenExit, Home } from \"@material-ui/icons\";\nimport useWindowSize from \"../../utils/windowSizeHook\";\n\ntype SetDataPageProps = {\n  boardDim: Dimensions;\n  setBoardData: (data: number[][]) => void;\n  goHome: () => void;\n  fullScreenMode: boolean;\n  setFullScreenMode: (fullScreenMode: boolean) => void;\n};\n\nconst useStyles = makeStyles(_ => ({\n  controllersConatiner: {\n    position: \"fixed\",\n    bottom: 0,\n    left: 0,\n    width: \"100%\",\n    backdropFilter: \"blur(7px)\",\n    backgroundColor: \"rgba(255, 255, 255, .5)\",\n    padding: \"10px 0\"\n  }\n}));\n\nconst SetDataPage = ({\n  boardDim,\n  setBoardData,\n  goHome,\n  fullScreenMode,\n  setFullScreenMode\n}: SetDataPageProps) => {\n  const classes = useStyles();\n\n  const [data, setData] = useState(\n    _.range(boardDim.height).map(__ => _.range(boardDim.width).map(__ => 0))\n  );\n\n  const windowSize = useWindowSize();\n\n  const toggleCell = (row: number, column: number) => {\n    setData([\n      ...data.slice(0, row),\n      [\n        ...data[row].slice(0, column),\n        data[row][column] === 1 ? 0 : 1,\n        ...data[row].slice(column + 1)\n      ],\n      ...data.slice(row + 1)\n    ]);\n  };\n\n  const submit = () => {\n    setBoardData(data);\n  };\n\n  const randomize = () => {\n    setData(\n      _.range(boardDim.height).map(__ =>\n        _.range(boardDim.width).map(__ =>\n          // make the probabilty for sea higher\n          Math.floor(Math.random() * 3) >= 1 ? 0 : 1\n        )\n      )\n    );\n  };\n\n  return (\n    <div>\n      <Box mb={2}>\n        <BoardEditor\n          boardDim={boardDim}\n          data={data}\n          toggleCell={toggleCell}\n          width={\n            fullScreenMode\n              ? windowSize.width\n              : Math.min(\n                  boardDim.width * (32 + BOARD_GUTTER_SIZE * 2) + 20,\n                  400\n                )\n          }\n          height={\n            fullScreenMode\n              ? windowSize.height\n              : Math.min(\n                  boardDim.height * (32 + BOARD_GUTTER_SIZE * 2) + 20,\n                  400\n                )\n          }\n          paddingBottom={fullScreenMode ? 80 : 0}\n        />\n      </Box>\n\n      <Box\n        mt={2}\n        className={fullScreenMode ? classes.controllersConatiner : \"\"}\n      >\n        <Box component=\"span\">\n          <IconButton\n            color={fullScreenMode ? \"inherit\" : \"primary\"}\n            onClick={goHome}\n          >\n            <Home />\n          </IconButton>\n        </Box>\n\n        {(boardDim.width > 8 || boardDim.height > 8) && (\n          <Box component=\"span\">\n            <IconButton\n              color={fullScreenMode ? \"inherit\" : \"primary\"}\n              onClick={_ => setFullScreenMode(!fullScreenMode)}\n            >\n              {fullScreenMode ? <FullscreenExit /> : <Fullscreen />}\n            </IconButton>\n          </Box>\n        )}\n\n        <Box component=\"span\" ml={2}>\n          <Button variant=\"contained\" onClick={_ => randomize()}>\n            Randomize\n          </Button>\n        </Box>\n\n        <Box component=\"span\" ml={2}>\n          <Button variant=\"contained\" color=\"primary\" onClick={_ => submit()}>\n            Set\n          </Button>\n        </Box>\n      </Box>\n    </div>\n  );\n};\n\nexport default SetDataPage;\n","import { Dimensions } from \"./Dimensions\";\n\nexport class Board {\n  dimensions: Dimensions;\n  data: number[][];\n\n  constructor(dimensions: Dimensions, data: number[][]) {\n    this.dimensions = dimensions;\n    this.data = data;\n  }\n\n  toString(): String {\n    return this.data.map(row => row.join(\" \")).join(\"\\n\");\n  }\n\n  toArrayString(): String {\n    return this.data.map(row => \"[\" + row.join(\",\") + \"]\").join(\",\");\n  }\n\n  clone(): Board {\n    return new Board(\n      { ...this.dimensions },\n      this.data.map(row => [...row])\n    );\n  }\n\n  isInBounds(rowIndex: number, columnIndex: number): boolean {\n    return (\n      0 <= columnIndex &&\n      columnIndex < this.dimensions.width &&\n      0 <= rowIndex &&\n      rowIndex < this.dimensions.height\n    );\n  }\n\n  getCell(rowIndex: number, columnIndex: number): number {\n    if (!this.isInBounds(rowIndex, columnIndex)) {\n      throw new Error(\n        `Invalid index (${columnIndex}, ${rowIndex}) in board with ` +\n          `dimensions ${JSON.stringify(this.dimensions)}`\n      );\n    }\n\n    return this.data[rowIndex][columnIndex];\n  }\n\n  setCell(rowIndex: number, columnIndex: number, value: number) {\n    if (!this.isInBounds(rowIndex, columnIndex)) {\n      throw new Error(\n        `Invalid index (${columnIndex}, ${rowIndex}) in board with ` +\n          `dimensions ${JSON.stringify(this.dimensions)}`\n      );\n    }\n\n    this.data[rowIndex][columnIndex] = value;\n  }\n\n  forEachCell(\n    callback: (rowIndex: number, columnIndex: number, value: number) => void\n  ) {\n    for (let rowIndex = 0; rowIndex < this.dimensions.height; rowIndex++) {\n      for (\n        let columnIndex = 0;\n        columnIndex < this.dimensions.width;\n        columnIndex++\n      ) {\n        callback(rowIndex, columnIndex, this.getCell(rowIndex, columnIndex));\n      }\n    }\n  }\n\n  async asyncForEachCell(\n    callback: (\n      rowIndex: number,\n      columnIndex: number,\n      value: number\n    ) => Promise<void>\n  ) {\n    for (let rowIndex = 0; rowIndex < this.dimensions.height; rowIndex++) {\n      for (\n        let columnIndex = 0;\n        columnIndex < this.dimensions.width;\n        columnIndex++\n      ) {\n        await callback(rowIndex, columnIndex, this.data[rowIndex][columnIndex]);\n      }\n    }\n  }\n}\n","import React, { useState } from \"react\";\nimport ChooseDimenssionPage from \"./ChooseDimenssionPage\";\nimport SetDataPage from \"./SetDataPage\";\nimport { Dimensions } from \"../../types/Dimensions\";\nimport { Board } from \"../../types/Board\";\n\ntype BoardBuildPageProps = {\n  setBoard: (board: Board | null) => void;\n  fullScreenMode: boolean;\n  setFullScreenMode: (fullScreenMode: boolean) => void;\n};\n\nconst BoardBuildPage = ({\n  setBoard,\n  fullScreenMode,\n  setFullScreenMode\n}: BoardBuildPageProps) => {\n  const [dimensions, setDimensions] = useState<Dimensions | null>(null);\n\n  const setBoardDataAndSubmit = (newData: number[][]) => {\n    if (dimensions == null) return;\n    const board = new Board(dimensions, newData);\n    setBoard(board);\n  };\n\n  return (\n    <div className=\"App\">\n      {dimensions == null && (\n        <ChooseDimenssionPage setBoardDim={setDimensions} />\n      )}\n      {dimensions != null && (\n        <SetDataPage\n          boardDim={dimensions}\n          setBoardData={setBoardDataAndSubmit}\n          goHome={() => {\n            setDimensions(null);\n            setFullScreenMode(false);\n          }}\n          fullScreenMode={fullScreenMode}\n          setFullScreenMode={setFullScreenMode}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default BoardBuildPage;\n","import { Board } from \"../types/Board\";\nimport _ from \"lodash\";\n\nasync function findNumOfIslands(\n  originalBoard: Board,\n  sideEffect: (board: Board) => void,\n  quickRun: boolean,\n  sleep: () => Promise<any>\n): Promise<number> {\n  const board = originalBoard.clone();\n  let nextIslandId = 2;\n\n  await board.asyncForEachCell(async (rowIndex, columnIndex, currentValue) => {\n    if (currentValue === 0) {\n      return;\n    }\n\n    if (!quickRun) await sleep();\n\n    const nonZeroNeighbors = getNonZeroNeighbors(board, rowIndex, columnIndex);\n    if (currentValue === 1) {\n      const visitedNonZeroNeighbors = nonZeroNeighbors.filter(\n        ([neighborRowIndex, neighborColumnIndex]) =>\n          board.getCell(neighborRowIndex, neighborColumnIndex) > 1\n      );\n\n      const currentIslandId =\n        visitedNonZeroNeighbors.length === 0\n          ? nextIslandId++\n          : Math.min(\n              ...visitedNonZeroNeighbors.map(\n                ([neighborRowIndex, neighborColumnIndex]) =>\n                  board.getCell(neighborRowIndex, neighborColumnIndex)\n              )\n            );\n\n      board.setCell(rowIndex, columnIndex, currentIslandId);\n      for await (const [\n        neighborRowIndex,\n        neighborColumnIndex\n      ] of nonZeroNeighbors) {\n        board.setCell(neighborRowIndex, neighborColumnIndex, currentIslandId);\n        if (!quickRun) {\n          sideEffect(board);\n          await sleep();\n        }\n      }\n    }\n\n    if (currentValue > 1) {\n      for await (const [\n        neighborRowIndex,\n        neighborColumnIndex\n      ] of nonZeroNeighbors) {\n        board.setCell(neighborRowIndex, neighborColumnIndex, currentValue);\n        if (!quickRun) {\n          sideEffect(board);\n          await sleep();\n        }\n      }\n    }\n  });\n\n  await mergeIdenticalIslands(\n    board,\n    nextIslandId - 1,\n    quickRun,\n    sideEffect,\n    sleep\n  );\n\n  if (quickRun) {\n    sideEffect(board);\n  }\n\n  return Promise.resolve(numOfIslands(board));\n}\n\nconst numOfIslands = (board: Board) => {\n  const islands = new Set<number>();\n  board.forEachCell((_, __, currentValue) => {\n    if (currentValue > 1) islands.add(currentValue);\n  });\n\n  return islands.size;\n};\n\nasync function mergeIdenticalIslands(\n  board: Board,\n  lastIslandId: number,\n  quickRun: boolean,\n  sideEffect: (board: Board) => void,\n  sleep: () => Promise<any>\n) {\n  let islandIdToIndices = [\n    new Array<[number, number]>(),\n    new Array<[number, number]>()\n  ].concat(\n    _.range(2, lastIslandId + 1).map(_ => new Array<[number, number]>())\n  );\n\n  board.forEachCell((rowIndex, columnIndex, currentValue) => {\n    if (currentValue > 1) {\n      islandIdToIndices[currentValue].push([rowIndex, columnIndex]);\n    }\n  });\n\n  await board.asyncForEachCell(async (rowIndex, columnIndex, currentValue) => {\n    if (currentValue === 0) {\n      return;\n    }\n    // currentValue can't be 1, as we replaced each 1 with an island ID, that start in 2.\n    const nonZeroNeighbors = getNonZeroNeighbors(board, rowIndex, columnIndex);\n    const identicalIslands = nonZeroNeighbors.map(\n      ([neighborRowIndex, neighborColumnIndex]) =>\n        board.getCell(neighborRowIndex, neighborColumnIndex)\n    );\n    for await (const islandId of identicalIslands.filter(\n      islandId => islandId !== currentValue\n    )) {\n      for await (const [rowIndex, columnIndex] of islandIdToIndices[islandId]) {\n        islandIdToIndices[currentValue].push([rowIndex, columnIndex]);\n        board.setCell(rowIndex, columnIndex, currentValue);\n        if (!quickRun) {\n          sideEffect(board);\n          await sleep();\n        }\n      }\n    }\n  });\n}\n\nconst getNeighborIndices = (\n  board: Board,\n  rowIndex: number,\n  columnIndex: number\n) => {\n  const neighborIndices = _.range(-1, 2)\n    .flatMap(rowOffset =>\n      _.range(-1, 2).map(columnOffset => [rowOffset, columnOffset])\n    )\n    .filter(\n      ([rowOffset, columnOffset]) => columnOffset !== 0 || rowOffset !== 0\n    )\n    .map(([rowOffset, columnOffset]) => [\n      rowIndex + rowOffset,\n      columnIndex + columnOffset\n    ])\n    .filter(\n      ([rowOffset, columnOffset]) =>\n        0 <= columnOffset &&\n        columnOffset < board.dimensions.width &&\n        0 <= rowOffset &&\n        rowOffset < board.dimensions.height\n    );\n\n  return neighborIndices;\n};\n\nconst getNonZeroNeighbors = (\n  board: Board,\n  rowIndex: number,\n  columnIndex: number\n) => {\n  const neighborIndices = getNeighborIndices(board, rowIndex, columnIndex);\n  return neighborIndices.filter(\n    ([neighborRowIndex, neighborColumnIndex]) =>\n      board.getCell(neighborRowIndex, neighborColumnIndex) > 0\n  );\n};\n\nexport default findNumOfIslands;\n","import React, { forwardRef, useState } from \"react\";\nimport { Board } from \"../../types/Board\";\nimport { makeStyles, Paper } from \"@material-ui/core\";\nimport { FixedSizeGrid as Grid } from \"react-window\";\nimport _ from \"lodash\";\n\ntype BoardVisualizerProps = {\n  board: Board;\n  width: number;\n  height: number;\n  paddingBottom: number;\n};\n\nexport const useStyles = makeStyles(_ => ({\n  gridContainer: {\n    display: \"flex\",\n    justifyContent: \"center\"\n  },\n  islandPaperContainer: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  islandPaper: {\n    display: \"inline-block\",\n    fontFamily: \"Jetbrains Mono\",\n    height: \"32px\",\n    width: \"32px\",\n    lineHeight: \"32px\",\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    background: \"red\"\n  }\n}));\n\ntype CellProps = {\n  columnIndex: number;\n  rowIndex: number;\n  style: any;\n};\n\nexport const BOARD_GUTTER_SIZE = 8;\n\nconst innerElementType = (paddingBottom: number) =>\n  forwardRef((props: any, ref: any) => {\n    const { style, ...rest } = props;\n\n    return (\n      <div\n        ref={ref}\n        style={{\n          ...style,\n          paddingLeft: BOARD_GUTTER_SIZE,\n          paddingTop: BOARD_GUTTER_SIZE,\n          height: `${parseFloat(style.height) + paddingBottom}px`\n        }}\n        {...rest}\n      />\n    );\n  });\n\nconst BoardVisualizer = ({\n  board,\n  width,\n  height,\n  paddingBottom\n}: BoardVisualizerProps) => {\n  const classes = useStyles();\n\n  const [colors, setColors] = useState([\"#b3e5fc\", \"#9a472d\"]);\n\n  const generateColors = (endIndex: number) => {\n    const generatedColors = new Set<String>(colors);\n\n    const generateNewColor = () => {\n      const randomColor = () => {\n        const letters = \"0123456789ABCDEF\";\n        return _.range(0, 3).reduce(\n          (acc, _) =>\n            acc +\n            letters[Math.floor(Math.random() * 8)] +\n            letters[Math.floor(Math.random() * 16)],\n          \"#\"\n        );\n      };\n      let newColor = randomColor();\n      while (generatedColors.has(newColor)) newColor = randomColor();\n      generatedColors.add(newColor);\n      return newColor;\n    };\n\n    return colors.concat(\n      _.range(colors.length, endIndex + 1).map(_ => generateNewColor())\n    );\n  };\n\n  const Cell = ({ columnIndex, rowIndex, style }: CellProps) => {\n    const value = board.data[rowIndex][columnIndex];\n    if (value >= colors.length) {\n      setColors(generateColors(value));\n    }\n    return (\n      <div\n        key={`${columnIndex},${rowIndex}`}\n        className={classes.islandPaperContainer}\n        style={{\n          ...style,\n          left: style.left + BOARD_GUTTER_SIZE,\n          top: style.top + BOARD_GUTTER_SIZE,\n          width: style.width - BOARD_GUTTER_SIZE,\n          height: style.height - BOARD_GUTTER_SIZE,\n          padding: 0,\n          margin: 0\n        }}\n      >\n        <Paper\n          className={classes.islandPaper}\n          style={{\n            backgroundColor: colors[value],\n            color: value === 0 ? \"#000\" : \"#fff\",\n            transition: \"background-color .2s ease\"\n          }}\n          elevation={2}\n        >\n          {value}\n        </Paper>\n      </div>\n    );\n  };\n\n  return (\n    <div className={classes.gridContainer}>\n      <Grid\n        columnCount={board.dimensions.width}\n        rowCount={board.dimensions.height}\n        columnWidth={32 + BOARD_GUTTER_SIZE * 2}\n        rowHeight={32 + BOARD_GUTTER_SIZE * 2}\n        height={height}\n        width={width}\n        innerElementType={innerElementType(paddingBottom)}\n      >\n        {Cell}\n      </Grid>\n    </div>\n  );\n};\n\nexport default BoardVisualizer;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { Board } from \"../../types/Board\";\nimport findNumOfIslands from \"../../logic/IslandsProblemSolver\";\nimport { sleep } from \"../../utils/sleep\";\nimport BoardVisualizer, { BOARD_GUTTER_SIZE } from \"./BoardVisualizer\";\nimport {\n  Box,\n  Button,\n  Snackbar,\n  makeStyles,\n  IconButton\n} from \"@material-ui/core\";\nimport useWindowSize from \"../../utils/windowSizeHook\";\nimport { FullscreenExit, Fullscreen, Home } from \"@material-ui/icons\";\n\ntype SolverPageProps = {\n  originalBoard: Board;\n  goHome: () => void;\n  fullScreenMode: boolean;\n  setFullScreenMode: (fullScreenMode: boolean) => void;\n};\n\nconst useStyles = makeStyles(_ => ({\n  controllersConatiner: {\n    position: \"fixed\",\n    bottom: 0,\n    left: 0,\n    width: \"100%\",\n    backdropFilter: \"blur(7px)\",\n    backgroundColor: \"rgba(255, 255, 255, .5)\",\n    padding: \"10px 0\"\n  }\n}));\n\nconst SolverPage = ({\n  originalBoard,\n  goHome,\n  fullScreenMode,\n  setFullScreenMode\n}: SolverPageProps) => {\n  const classes = useStyles();\n\n  const [[ongoingBoard, ongoingBoardId], setOgnoingBoardAndId] = useState<\n    [Board, number]\n  >([originalBoard.clone(), 0]);\n  const [answer, setAnswer] = useState<number | null>(null);\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n  const [clickedSolve, setClickedSolve] = useState(false);\n\n  const windowSize = useWindowSize();\n\n  const isMounted = useRef(true);\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const solve = () => {\n    if (clickedSolve) return;\n    setClickedSolve(true);\n\n    const quickRun =\n      originalBoard.dimensions.height * originalBoard.dimensions.width > 1000;\n\n    const sleepLength =\n      originalBoard.dimensions.height * originalBoard.dimensions.width > 400\n        ? 1\n        : originalBoard.dimensions.height * originalBoard.dimensions.width > 200\n        ? 5\n        : originalBoard.dimensions.height * originalBoard.dimensions.width > 100\n        ? 10\n        : 100;\n\n    findNumOfIslands(\n      originalBoard,\n      (board: Board) => {\n        if (!isMounted.current) return;\n        setOgnoingBoardAndId([board, (ongoingBoardId + 1) % 4]);\n      },\n      quickRun,\n      () => sleep(sleepLength)\n    ).then(answer => {\n      if (!isMounted.current) return;\n      setAnswer(answer);\n      setSnackbarOpen(true);\n    });\n  };\n\n  const snackbarMessage =\n    answer === 0\n      ? \"There are'nt islands.\"\n      : answer === 1\n      ? \"There is a single island.\"\n      : `There are ${answer} islands.`;\n\n  return (\n    <div>\n      <Box mb={2}>\n        <BoardVisualizer\n          board={ongoingBoard}\n          width={\n            fullScreenMode\n              ? windowSize.width\n              : Math.min(\n                  originalBoard.dimensions.width *\n                    (32 + BOARD_GUTTER_SIZE * 2) +\n                    20,\n                  400\n                )\n          }\n          height={\n            fullScreenMode\n              ? windowSize.height\n              : Math.min(\n                  originalBoard.dimensions.height *\n                    (32 + BOARD_GUTTER_SIZE * 2) +\n                    20,\n                  400\n                )\n          }\n          paddingBottom={fullScreenMode ? 80 : 0}\n        />\n      </Box>\n\n      <Box\n        mt={2}\n        className={fullScreenMode ? classes.controllersConatiner : \"\"}\n      >\n        <Box component=\"span\">\n          <IconButton\n            color={fullScreenMode ? \"inherit\" : \"primary\"}\n            onClick={goHome}\n          >\n            <Home />\n          </IconButton>\n        </Box>\n\n        {(originalBoard.dimensions.width > 8 ||\n          originalBoard.dimensions.height > 8) && (\n          <Box component=\"span\">\n            <IconButton\n              color={fullScreenMode ? \"inherit\" : \"primary\"}\n              onClick={_ => setFullScreenMode(!fullScreenMode)}\n            >\n              {fullScreenMode ? <FullscreenExit /> : <Fullscreen />}\n            </IconButton>\n          </Box>\n        )}\n\n        <Box component=\"span\" ml={2}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={solve}\n            disabled={clickedSolve}\n          >\n            Solve\n          </Button>\n        </Box>\n      </Box>\n\n      <Snackbar\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\"\n        }}\n        open={snackbarOpen}\n        onClose={_ => setSnackbarOpen(false)}\n        message={snackbarMessage}\n        action={\n          <React.Fragment>\n            <Button\n              color=\"secondary\"\n              size=\"small\"\n              onClick={_ => setSnackbarOpen(false)}\n            >\n              Ok\n            </Button>\n          </React.Fragment>\n        }\n      />\n    </div>\n  );\n};\n\nexport default SolverPage;\n","export function sleep(ms: number) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}","import { createMuiTheme } from \"@material-ui/core/styles\";\nimport pink from \"@material-ui/core/colors/pink\";\n\nexport default createMuiTheme({\n  palette: {\n    primary: pink\n  },\n  typography: {\n    fontFamily: \"Jetbrains Mono\",\n    fontSize: 14\n  },\n  overrides: {\n    MuiButton: {\n      root: {\n        textTransform: \"capitalize\"\n      }\n    }\n  }\n});\n","import React, { useState } from \"react\";\nimport \"./App.css\";\nimport { Board } from \"./types/Board\";\nimport BoardBuildPage from \"./pages/BoardBuild\";\nimport SolverPage from \"./pages/Solver\";\nimport \"./fonts/stylesheet.css\";\nimport { ThemeProvider } from \"@material-ui/core\";\nimport customTheme from \"./themes/custom\";\n\nconst App = () => {\n  const [board, setBoard] = useState<Board | null>(null);\n  const [fullScreenMode, setFullScreenMode] = useState(false);\n  return (\n    <ThemeProvider theme={customTheme}>\n      <div className={`App`}>\n        {board == null && (\n          <BoardBuildPage\n            setBoard={setBoard}\n            fullScreenMode={fullScreenMode}\n            setFullScreenMode={setFullScreenMode}\n          />\n        )}\n        {board != null && (\n          <SolverPage\n            originalBoard={board}\n            goHome={() => {\n              setBoard(null);\n              setFullScreenMode(false);\n            }}\n            fullScreenMode={fullScreenMode}\n            setFullScreenMode={setFullScreenMode}\n          />\n        )}\n      </div>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}