(this["webpackJsonpislands-problem"]=this["webpackJsonpislands-problem"]||[]).push([[0],{59:function(e,n,t){e.exports=t(73)},64:function(e,n,t){},65:function(e,n,t){},72:function(e,n,t){},73:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(9),o=t.n(i),c=(t(64),t(7)),s=(t(65),t(101)),l=t(110),u=t(104),d=t(109),f=t(107),m=Object(s.a)((function(e){return{dimensionsConatiner:{display:"inline-flex",flexDirection:"row",alignItems:"center"},crossSign:{fontSize:"1.5em",margin:"0 .5em"}}})),h=function(e){var n=e.setBoardDim,t=m(),i=Object(a.useState)(8),o=Object(c.a)(i,2),s=o[0],h=o[1],p=Object(a.useState)(8),b=Object(c.a)(p,2),g=b[0],v=b[1];return r.a.createElement("form",null,r.a.createElement(l.a,{mb:2},r.a.createElement(u.a,null,"Please enter bitmap size:")),r.a.createElement("div",{className:t.dimensionsConatiner},r.a.createElement(d.a,{id:"filled-basic",label:"Width",variant:"filled",type:"number",defaultValue:8,onChange:function(e){return h(parseInt(e.target.value))}}),r.a.createElement("div",{className:t.crossSign},"\xd7"),r.a.createElement(d.a,{id:"filled-basic",label:"Height",variant:"filled",type:"number",defaultValue:8,onChange:function(e){return v(parseInt(e.target.value))}})),r.a.createElement(l.a,{m:3},r.a.createElement(f.a,{variant:"contained",color:"primary",onClick:function(e){n({width:s,height:g})}},"Choose")))},p=t(13),b=t(22),g=t.n(b),v=t(26),w=t(2),y=t(39),j=t.n(y),O=t(40),E=t.n(O),x=t(75),k=t(106),C=t(41),S=Object(s.a)((function(e){return{gridContainer:{display:"flex",justifyContent:"center"},islandPaperContainer:{display:"flex",alignItems:"center",justifyContent:"center"},islandPaper:{display:"inline-block",fontFamily:"Jetbrains Mono",height:"32px",width:"32px",lineHeight:"32px",textAlign:"center",fontSize:"16px",background:"red"}}})),I=Object(a.forwardRef)((function(e,n){var t=e.style,a=Object(w.a)(e,["style"]);return r.a.createElement("div",Object.assign({ref:n,style:Object(v.a)({},t,{paddingLeft:8,paddingTop:8})},a))})),B=function(e){var n=e.boardDim,t=e.data,a=e.toggleCell,i=S();return r.a.createElement("div",{className:i.gridContainer},r.a.createElement(C.a,{columnCount:n.width,rowCount:n.height,columnWidth:48,rowHeight:48,height:Math.min(48*n.height+20,400),width:Math.min(48*n.width+20,400),innerElementType:I},(function(e){var n=e.columnIndex,o=e.rowIndex,c=e.style,s=t[o][n];return r.a.createElement(x.a,{focusRipple:!0,className:i.islandPaperContainer,key:"".concat(n,",").concat(o),onClick:function(e){return a(o,n)},style:Object(v.a)({},c,{left:c.left+8,top:c.top+8,width:c.width-8,height:c.height-8})},r.a.createElement(k.a,{className:i.islandPaper,style:{backgroundColor:0===s?j.a[200]:E.a[200],transition:"background-color .2s ease"},elevation:2},s))})))},N=function(e){var n=e.boardDim,t=e.setBoardData,i=Object(a.useState)(g.a.range(n.height).map((function(e){return g.a.range(n.width).map((function(e){return 0}))}))),o=Object(c.a)(i,2),s=o[0],u=o[1];return r.a.createElement("div",null,r.a.createElement(l.a,{mb:2},r.a.createElement(B,{boardDim:n,data:s,toggleCell:function(e,n){u([].concat(Object(p.a)(s.slice(0,e)),[[].concat(Object(p.a)(s[e].slice(0,n)),[1===s[e][n]?0:1],Object(p.a)(s[e].slice(n+1)))],Object(p.a)(s.slice(e+1))))}})),r.a.createElement(l.a,{component:"span",mt:2},r.a.createElement(f.a,{variant:"contained",onClick:function(e){u(g.a.range(n.height).map((function(e){return g.a.range(n.width).map((function(e){return Math.round(Math.random())}))})))}},"Randomize")),r.a.createElement(l.a,{component:"span",mt:2,ml:2},r.a.createElement(f.a,{variant:"contained",color:"primary",onClick:function(e){t(s)}},"Set")))},M=t(12),P=t.n(M),z=t(19),D=t(38),T=t(24),H=function(){function e(n,t){Object(D.a)(this,e),this.dimensions=void 0,this.data=void 0,this.dimensions=n,this.data=t}return Object(T.a)(e,[{key:"toString",value:function(){return this.data.map((function(e){return e.join(" ")})).join("\n")}},{key:"toArrayString",value:function(){return this.data.map((function(e){return"["+e.join(",")+"]"})).join(",")}},{key:"clone",value:function(){return new e(Object(v.a)({},this.dimensions),this.data.map((function(e){return Object(p.a)(e)})))}},{key:"isInBounds",value:function(e,n){return 0<=n&&n<this.dimensions.width&&0<=e&&e<this.dimensions.height}},{key:"getCell",value:function(e,n){if(!this.isInBounds(e,n))throw new Error("Invalid index (".concat(n,", ").concat(e,") in board with ")+"dimensions ".concat(JSON.stringify(this.dimensions)));return this.data[e][n]}},{key:"setCell",value:function(e,n,t){if(!this.isInBounds(e,n))throw new Error("Invalid index (".concat(n,", ").concat(e,") in board with ")+"dimensions ".concat(JSON.stringify(this.dimensions)));this.data[e][n]=t}},{key:"forEachCell",value:function(e){for(var n=0;n<this.dimensions.height;n++)for(var t=0;t<this.dimensions.width;t++)e(n,t,this.getCell(n,t))}},{key:"asyncForEachCell",value:function(){var e=Object(z.a)(P.a.mark((function e(n){var t,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this.dimensions.height)){e.next=12;break}a=0;case 3:if(!(a<this.dimensions.width)){e.next=9;break}return e.next=6,n(t,a,this.getCell(t,a));case 6:a++,e.next=3;break;case 9:t++,e.next=1;break;case 12:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()}]),e}(),F=function(e){var n=e.setBoard,t=Object(a.useState)(null),i=Object(c.a)(t,2),o=i[0],s=i[1];return r.a.createElement("div",{className:"App"},null==o&&r.a.createElement(h,{setBoardDim:s}),null!=o&&r.a.createElement(N,{boardDim:o,setBoardData:function(e){if(null!=o){var t=new H(o,e);n(t)}}}))};function J(){return(J=Object(z.a)(P.a.mark((function e(n,t,a,r){var i,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.clone(),o=2,e.next=4,i.asyncForEachCell(function(){var e=Object(z.a)(P.a.mark((function e(n,s,l){var u;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==l){e.next=2;break}return e.abrupt("return");case 2:if(a){e.next=5;break}return e.next=5,r();case 5:if(1!==l){e.next=13;break}if(u=L(i,n,s),0!==u.filter((function(e){var n=Object(c.a)(e,2),t=n[0],a=n[1];return i.getCell(a,t)>1})).length){e.next=13;break}return i.setCell(n,s,o),e.next=12,u.forEach(function(){var e=Object(z.a)(P.a.mark((function e(n){var s,l,u;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=Object(c.a)(n,2),l=s[0],u=s[1],i.setCell(u,l,o),a){e.next=6;break}return t(i),e.next=6,r();case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 12:o++;case 13:if(!(l>1)){e.next=16;break}return e.next=16,L(i,n,s).forEach(function(){var e=Object(z.a)(P.a.mark((function e(n){var o,s,u;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Object(c.a)(n,2),s=o[0],u=o[1],i.setCell(u,s,l),a){e.next=6;break}return t(i),e.next=6,r();case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 16:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}());case 4:return e.next=6,W(i,o-1,a,t,r);case 6:return a&&t(i),e.abrupt("return",Promise.resolve(A(i)));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(e){var n=new Set;return e.forEachCell((function(e,t,a){a>1&&n.add(a)})),n.size};function W(e,n,t,a,r){return R.apply(this,arguments)}function R(){return(R=Object(z.a)(P.a.mark((function e(n,t,a,r,i){var o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object.fromEntries(g.a.range(2,t+1).map((function(e){return[e,new Array]}))),n.forEachCell((function(e,n,t){t>1&&o[t].push([e,n])})),e.next=4,n.asyncForEachCell(function(){var e=Object(z.a)(P.a.mark((function e(t,s,l){var u,d;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==l){e.next=2;break}return e.abrupt("return");case 2:return u=L(n,t,s),d=u.map((function(e){var t=Object(c.a)(e,2),a=t[0],r=t[1];return n.getCell(r,a)})),e.next=6,d.filter((function(e){return e!==l})).forEach(function(){var e=Object(z.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o[t].forEach(function(){var e=Object(z.a)(P.a.mark((function e(t){var s,u,d;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=Object(c.a)(t,2),u=s[0],d=s[1],o[l].push([u,d]),n.setCell(u,d,l),a){e.next=7;break}return r(n),e.next=7,i();case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=function(e,n,t){return function(e,n,t){return g.a.range(-1,2).flatMap((function(e){return g.a.range(-1,2).map((function(n){return[n,e]}))})).filter((function(e){var n=Object(c.a)(e,2),t=n[0],a=n[1];return 0!==t||0!==a})).map((function(e){var a=Object(c.a)(e,2),r=a[0],i=a[1];return[t+r,n+i]})).filter((function(n){var t=Object(c.a)(n,2),a=t[0],r=t[1];return 0<=a&&a<e.dimensions.width&&0<=r&&r<e.dimensions.height}))}(e,n,t).filter((function(n){var t=Object(c.a)(n,2),a=t[0],r=t[1];return e.getCell(r,a)>0}))},V=function(e,n,t,a){return J.apply(this,arguments)};var G=Object(s.a)((function(e){return{gridContainer:{display:"flex",justifyContent:"center"},islandPaperContainer:{display:"flex",alignItems:"center",justifyContent:"center"},islandPaper:{display:"inline-block",fontFamily:"Jetbrains Mono",height:"32px",width:"32px",lineHeight:"32px",textAlign:"center",fontSize:"16px",background:"red"}}})),$=Object(a.forwardRef)((function(e,n){var t=e.style,a=Object(w.a)(e,["style"]);return r.a.createElement("div",Object.assign({ref:n,style:Object(v.a)({},t,{paddingLeft:8,paddingTop:8})},a))})),q=function(e){var n=e.board,t=G();return r.a.createElement("div",{className:t.gridContainer},r.a.createElement(C.a,{columnCount:n.dimensions.width,rowCount:n.dimensions.height,columnWidth:48,rowHeight:48,height:Math.min(48*n.dimensions.height+20,400),width:Math.min(48*n.dimensions.width+20,400),innerElementType:$},(function(e){var a=e.columnIndex,i=e.rowIndex,o=e.style,c=n.data[i][a];return r.a.createElement("div",{key:"".concat(a,",").concat(i),className:t.islandPaperContainer,style:Object(v.a)({},o,{left:o.left+8,top:o.top+8,width:o.width-8,height:o.height-8,padding:0,margin:0})},r.a.createElement(k.a,{className:t.islandPaper,style:{backgroundColor:0===c?j.a[200]:E.a[200],transition:"background-color .2s ease"},elevation:2},c))})))},K=t(112),Q=function(e){var n=e.originalBoard,t=e.goHome,i=Object(a.useState)([n.clone(),0]),o=Object(c.a)(i,2),s=Object(c.a)(o[0],2),u=s[0],d=s[1],m=o[1],h=Object(a.useState)(null),p=Object(c.a)(h,2),b=p[0],g=p[1],v=Object(a.useState)(!1),w=Object(c.a)(v,2),y=w[0],j=w[1],O=0===b?"There are'nt islands.":1===b?"There is a single island.":"There are ".concat(b," islands.");return r.a.createElement("div",null,r.a.createElement(l.a,{mb:2},r.a.createElement(q,{board:u})),r.a.createElement(l.a,{component:"span",mt:2},r.a.createElement(f.a,{variant:"contained",onClick:t},"Go Home")),r.a.createElement(l.a,{component:"span",mt:2,ml:2},r.a.createElement(f.a,{variant:"contained",color:"primary",onClick:function(){var e=n.dimensions.height*n.dimensions.width>800,t=n.dimensions.height*n.dimensions.width>400?10:n.dimensions.height*n.dimensions.width>200?20:n.dimensions.height*n.dimensions.width>100?40:100;V(n,(function(e){m([e,(d+1)%4])}),e,(function(){return e=t,new Promise((function(n){return setTimeout(n,e)}));var e})).then((function(e){g(e),j(!0)}))}},"Solve")),r.a.createElement(K.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:y,onClose:function(e){return j(!1)},message:O,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{color:"secondary",size:"small",onClick:function(e){return j(!1)}},"Ok"))}))},U=(t(72),t(108)),X=t(50),Y=t(49),Z=t.n(Y),_=Object(X.a)({palette:{primary:Z.a},typography:{fontFamily:"Jetbrains Mono",fontSize:14},overrides:{MuiButton:{root:{textTransform:"capitalize"}}}}),ee=function(){var e=Object(a.useState)(null),n=Object(c.a)(e,2),t=n[0],i=n[1];return r.a.createElement(U.a,{theme:_},r.a.createElement("div",{className:"App"},null==t&&r.a.createElement(F,{setBoard:i}),null!=t&&r.a.createElement(Q,{originalBoard:t,goHome:function(){return i(null)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[59,1,2]]]);
//# sourceMappingURL=main.e7bc4eb2.chunk.js.map